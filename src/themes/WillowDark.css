.wx-willow-dark-theme {
  color-scheme: dark;

  --wx-gantt-border-color: #384047;
  --wx-gantt-border: 1px solid #384047;
  --wx-gantt-form-header-border: none;
  --wx-gantt-icon-color: #9fa1ae;

  /* bars */
  --wx-gantt-bar-font: var(--wx-font-weight) var(--wx-font-size)
    var(--wx-font-family);
  --wx-gantt-bar-border-radius: 3px;
  --wx-gantt-milestone-border-radius: 3px;

  /* Default colors for Basic Gantt */
  --wx-gantt-task-color: #00ba94;
  --wx-gantt-task-font-color: #ffffffe5;
  --wx-gantt-task-fill-color: #099f81;
  --wx-gantt-task-border-color: #099f81;
  --wx-gantt-task-border: 1px solid transparent;

  --wx-gantt-summary-color: #37a9ef;
  --wx-gantt-summary-font-color: #ffffffe5;
  --wx-gantt-summary-fill-color: #098cdc;
  --wx-gantt-summary-border-color: #098cdc;
  --wx-gantt-summary-border: 1px solid transparent;

  --wx-gantt-progress-marker-height: 26px;
  --wx-gantt-progress-border-color: #4b5359;

  --wx-gantt-baseline-border-radius: 2px;

  /* temp*/
  --wx-gantt-bar-shadow: 0px 1px 2px rgba(44, 47, 60, 0.06),
    0px 3px 10px rgba(44, 47, 60, 0.12);

  --wx-gantt-milestone-color: #ad44ab;

  --wx-gantt-select-color: #384047;
  --wx-gantt-link-color: #9fa1ae;
  --wx-gantt-link-marker-background: #384047;
  --wx-gantt-link-marker-color: #9fa1ae;

  /* grid */
  --wx-grid-header-font: var(--wx-font-weight-md) var(--wx-font-size)
    var(--wx-font-family);
  --wx-grid-header-font-color: var(--wx-color-font);
  --wx-grid-header-text-transform: capitalize;
  --wx-grid-header-shadow: none;

  --wx-grid-body-font: var(--wx-font-weight) var(--wx-font-size)
    var(--wx-font-family);
  --wx-grid-body-font-color: var(--wx-color-font);
  --wx-grid-body-row-border: 1px solid #384047;
  --wx-grid-body-cell-border: 1px solid transparent;

  /* timescale */
  --wx-timescale-font: var(--wx-font-weight-md) var(--wx-font-size-sm)
    var(--wx-font-family);
  --wx-timescale-font-color: var(--wx-color-font);
  --wx-timescale-text-transform: uppercase;
  --wx-timescale-shadow: none;
  --wx-timescale-border: 1px solid #384047;

  /* grid and timescale */
  --wx-gantt-holiday-background: #303539;
  --wx-gantt-holiday-color: #878994;

  /* markers */
  --wx-gantt-marker-font: var(--wx-font-weight-md) var(--wx-font-size-sm)
    var(--wx-font-family);
  --wx-gantt-marker-font-color: #fff;
  --wx-gantt-marker-color: rgba(6, 189, 248, 0.77);

  /* tooltips */
  --wx-tooltip-font: var(--wx-font-weight) var(--wx-font-size)
    var(--wx-font-family);
  --wx-tooltip-font-color: #e6e6e6;
  --wx-tooltip-background: #4f525a;

  /* sidebar */
  --wx-sidebar-close-icon: #384047;

  /* GitLab Gantt Header & Controls */
  --wx-gitlab-header-background: #2c2f33;
  --wx-gitlab-header-border: #384047;
  --wx-gitlab-control-background: #23262a;
  --wx-gitlab-control-border: #384047;
  --wx-gitlab-control-text: #9fa1ae;
  --wx-gitlab-control-value: #e6e6e6;
  --wx-gitlab-button-background: #2c2f33;
  --wx-gitlab-button-border: #384047;
  --wx-gitlab-button-hover-background: #33373c;
  --wx-gitlab-button-text: #9fa1ae;
  --wx-gitlab-button-hover-text: #e6e6e6;

  /* GitLab Filter Panel */
  --wx-gitlab-filter-background: #23262a;
  --wx-gitlab-filter-border: #384047;
  --wx-gitlab-filter-text: #e6e6e6;
  --wx-gitlab-filter-hover-background: rgba(255, 255, 255, 0.05);
  --wx-gitlab-filter-input-background: #2c2f33;
  --wx-gitlab-filter-input-border: #384047;

  /* GitLab Settings Modal */
  --wx-gitlab-modal-overlay: rgba(0, 0, 0, 0.7);
  --wx-gitlab-modal-background: #2c2f33;
  --wx-gitlab-modal-header-background: #23262a;
  --wx-gitlab-modal-border: #384047;
  --wx-gitlab-modal-section-border: #384047;
  --wx-gitlab-modal-text: #e6e6e6;
  --wx-gitlab-modal-hint-text: #9fa1ae;

  /* Demo Sidebar & Top Bar */
  --wx-demo-sidebar-background: #23262a;
  --wx-demo-sidebar-border: #384047;
  --wx-demo-text-primary: #e6e6e6;
  --wx-demo-text-secondary: #9fa1ae;
  --wx-demo-button-border: #384047;
  --wx-demo-button-hover-background: #2c2f33;
  --wx-demo-button-active-background: #33373c;
  --wx-demo-demo-hover-background: #2c2f33;
  --wx-demo-demo-active-border: #37a9ef;
  --wx-demo-segmented-background: #2c2f33;
}

/* GitLab Integration specific styling - override default colors */
.wx-willow-dark-theme .wx-gitlab-issue {
  /* GitLab Issue = blue */
  color: #ffffffe5;
  background-color: #37a9ef;
  border: 1px solid transparent;
}

.wx-willow-dark-theme .wx-gitlab-issue.wx-selected {
  border: 1px solid #098cdc;
  box-shadow: var(--wx-gantt-bar-shadow);
}

.wx-willow-dark-theme .wx-gitlab-issue:hover {
  box-shadow: var(--wx-gantt-bar-shadow);
}

.wx-willow-dark-theme .wx-gitlab-issue .wx-progress-percent {
  background-color: #098cdc;
}

.wx-willow-dark-theme .wx-gitlab-task {
  /* GitLab Task = green */
  color: #ffffffe5;
  background-color: #00ba94;
  border: 1px solid transparent;
}

.wx-willow-dark-theme .wx-gitlab-task.wx-selected {
  border: 1px solid #099f81;
  box-shadow: var(--wx-gantt-bar-shadow);
}

.wx-willow-dark-theme .wx-gitlab-task:hover {
  box-shadow: var(--wx-gantt-bar-shadow);
}

.wx-willow-dark-theme .wx-gitlab-task .wx-progress-percent {
  background-color: #099f81;
}

/* === Color Rules - Custom Color Stripes (Dark Theme) === */

/* Base styles for all color rule bars - fix edge artifacts */
.wx-willow-dark-theme .wx-bar.wx-color-rule-single,
.wx-willow-dark-theme .wx-bar.wx-color-rule-double,
.wx-willow-dark-theme .wx-bar.wx-color-rule-triple {
  overflow: visible;
  border: 1px solid transparent !important;
  /* GPU acceleration for smoother rendering */
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* Single color stripe (1 rule match) */
.wx-willow-dark-theme .wx-bar.wx-color-rule-single {
  background: repeating-linear-gradient(
    45deg,
    var(--wx-color-rule-1) 0px,
    var(--wx-color-rule-1) 12px,
    var(--wx-base-color) 12px,
    var(--wx-base-color) 24px
  ) !important;
  background-size: 34px 34px !important;
}

/* Double color stripe (2 rule matches) */
.wx-willow-dark-theme .wx-bar.wx-color-rule-double {
  background: repeating-linear-gradient(
    45deg,
    var(--wx-color-rule-1) 0px,
    var(--wx-color-rule-1) 10px,
    var(--wx-color-rule-2) 10px,
    var(--wx-color-rule-2) 20px,
    var(--wx-base-color) 20px,
    var(--wx-base-color) 30px
  ) !important;
  background-size: 42px 42px !important;
}

/* Triple color stripe (3 rule matches) */
.wx-willow-dark-theme .wx-bar.wx-color-rule-triple {
  background: repeating-linear-gradient(
    45deg,
    var(--wx-color-rule-1) 0px,
    var(--wx-color-rule-1) 8px,
    var(--wx-color-rule-2) 8px,
    var(--wx-color-rule-2) 16px,
    var(--wx-color-rule-3) 16px,
    var(--wx-color-rule-3) 24px,
    var(--wx-base-color) 24px,
    var(--wx-base-color) 32px
  ) !important;
  background-size: 45px 45px !important;
}

/* === GitLab Milestone Color Rules (Dark Theme) === */
/* GitLab milestones are horizontal bars (not diamond shaped) */

.wx-willow-dark-theme .wx-bar.wx-gitlab-milestone.wx-color-rule-single,
.wx-willow-dark-theme .wx-bar.wx-gitlab-milestone.wx-color-rule-double,
.wx-willow-dark-theme .wx-bar.wx-gitlab-milestone.wx-color-rule-triple {
  overflow: visible;
  border: 1px solid transparent !important;
  /* GPU acceleration for smoother rendering */
  transform: translateZ(0);
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}

/* Single color stripe for GitLab milestone */
.wx-willow-dark-theme .wx-bar.wx-gitlab-milestone.wx-color-rule-single {
  background: repeating-linear-gradient(
    45deg,
    var(--wx-color-rule-1) 0px,
    var(--wx-color-rule-1) 12px,
    var(--wx-base-color) 12px,
    var(--wx-base-color) 24px
  ) !important;
  background-size: 34px 34px !important;
}

/* Double color stripe for GitLab milestone */
.wx-willow-dark-theme .wx-bar.wx-gitlab-milestone.wx-color-rule-double {
  background: repeating-linear-gradient(
    45deg,
    var(--wx-color-rule-1) 0px,
    var(--wx-color-rule-1) 10px,
    var(--wx-color-rule-2) 10px,
    var(--wx-color-rule-2) 20px,
    var(--wx-base-color) 20px,
    var(--wx-base-color) 30px
  ) !important;
  background-size: 42px 42px !important;
}

/* Triple color stripe for GitLab milestone */
.wx-willow-dark-theme .wx-bar.wx-gitlab-milestone.wx-color-rule-triple {
  background: repeating-linear-gradient(
    45deg,
    var(--wx-color-rule-1) 0px,
    var(--wx-color-rule-1) 8px,
    var(--wx-color-rule-2) 8px,
    var(--wx-color-rule-2) 16px,
    var(--wx-color-rule-3) 16px,
    var(--wx-color-rule-3) 24px,
    var(--wx-base-color) 24px,
    var(--wx-base-color) 32px
  ) !important;
  background-size: 45px 45px !important;
}

/* Text outside bar for color rules - positioned to the right */
.wx-willow-dark-theme .wx-bar.wx-color-rule-single .wx-text-out,
.wx-willow-dark-theme .wx-bar.wx-color-rule-double .wx-text-out,
.wx-willow-dark-theme .wx-bar.wx-color-rule-triple .wx-text-out {
  left: 100%;
  padding: 0 6px;
  white-space: nowrap;
  color: #e6e6e6; /* Light text for dark theme */
}

/* === End Color Rules === */
